raw = read.csv("portlist.csv")
raw = read.csv("portlist.csv", header = F)
raw = read.csv("portlist.csv", header = F, stringsAsFactors = F)
colnames(raw) = c("Service", "number")
library(ggplot2)
ggplot(data = raw, aes(x = Service, y = number))
+ geom_bar()
ggplot(data = raw, aes(x = Service, y = number)) + geom_bar()
ggplot(data = raw, aes(x = number)) + geom_bar()
?filter
?subset
data = subset(raw, number >= 10)
ggplot(data = data, aes(x = number)) + geom_bar()
?sort
sortdata = data[order(data["number"]),]
View(sortdata)
?order
sortdata = data[order(data["number"], decreasing = T),]
View(sortdata)
ggplot(data = sortdata, aes(x = number)) + geom_bar()
ggplot(data = sortdata, aes(x = number)) + geom_histogram()
ggplot(data = sortdata, aes(y = number)) + geom_histogram()
ggplot(data = sortdata, aes(x = number)) + geom_line()
ggplot(data = sortdata, aes(y = number)) + geom_line()
raw = read.csv("portlist.csv", stringsAsFactors = F)
raw = read.csv("portlist.csv", stringsAsFactors = F)
ggplot(data = raw, aes(x = name)) + geom_bar()
ggplot(data=Arthritis, mapping=aes(x="state",fill=state))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data=raw, mapping=aes(x="state",fill=state))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data = raw, aes(x = name)) + geom_bar()
raw$name = as.factor(raw$name)
levels(raw$name)
raw$name["3d-nfsd"]
raw$name["3exmp"]
raw$name
raw = read.csv("portlist.csv", stringsAsFactors = F)
raw$name = as.factor(raw$name)
raw = read.csv("portlist.csv", stringsAsFactors = F)
table(raw$name)
freq = table(raw$name)
freq["snmp"]
data = subset(raw, freq[name] > 10)
ggplot(data = data, aes(x = name)) + geom_bar()
data = subset(raw, freq[name] > 20)
ggplot(data = data, aes(x = name)) + geom_bar()
data = subset(raw, freq[name] > 50)
ggplot(data = data, aes(x = name)) + geom_bar()
ggplot(data = data, aes(x = name)) + geom_bar(color = "lightblue")
?geom_bar
ggplot(data = data, aes(x = name)) + geom_bar(fill = "lightblue")
ggplot(data = data, aes(x = name)) + geom_bar(fill = "lightblue", width = 0.5)
ggplot(data = data, aes(x = name)) + geom_bar(fill = "cadetblue", width = 0.5)
ggplot(data = data, aes(x = name)) + geom_bar(fill = "cadetblue2", width = 0.5)
ggplot(data = data, aes(x = name)) + geom_bar(fill = "cadetblue3", width = 0.5)
length(levels(as.factor(raw$name)))
ggplot(data=raw, mapping=aes(x="state",fill=state))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data=raw, mapping=aes(x=state))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data=raw, mapping=aes(x="state",fill=state))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0, fiil)
ggplot(data=raw, mapping=aes(x="state",fill=state))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data=raw, mapping=aes(x="state",fill=state))+
ggplot(data=raw, mapping=aes(x="state",fill=state))+
geom_bar(stat="count",width=0.5,position='stack', fill = c("blue", "red", "green"))+
coord_polar("y", start=0)
ggplot(data=raw, mapping=aes(x="state",fill=state))+
geom_bar(stat="count",width=0.5,position='stack', fill = c("blue", "red", "green"))+
coord_polar("y", start=0)
ggplot(data = data, aes(x = name, fill = name)) + geom_bar(width = 0.5)
ggplot(data=raw, mapping=aes(x="state",fill=state))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data=raw, mapping=aes(x="state",fill=-state))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data=raw, mapping=aes(x="state",fill=state))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
library(ggplot2)
raw = read.csv("portlist.csv", stringsAsFactors = F)
levels(as.factor(raw$name))
hostlist = read.csv("hostlist.csv", stringsAsFactors = F)
library(ggplot2)
ggplot(data = hostlist, aes(x = numofp)) + geom_bar(fill = "cadetblue3", width = 0.5)
ggplot(data = hostlist, aes(x = numofp)) + geom_boxplot(fill = "cadetblue3")
ggplot(data = hostlist, aes(x = numofp), group = F) + geom_boxplot(fill = "cadetblue3")
ggplot(data = hostlist, aes(x = numofp, group = F)) + geom_boxplot(fill = "cadetblue3")
ggplot(data = hostlist, aes(y = numofp, group = F)) + geom_boxplot(fill = "cadetblue3")
ggplot(data = hostlist, aes(y = numofp)) + geom_boxplot(fill = "cadetblue3")
ggplot(data = hostlist, aes(y = numofp)) + geom_boxplot(fill = "cadetblue3")
ggplot(data = hostlist, aes(x = 1, y = numofp)) + geom_boxplot(fill = "cadetblue3")
ggplot(data = hostlist, aes(x = numofp)) + geom_bar(fill = "cadetblue3", width = 0.5)
hostlist2 = subset(hostlist, numofp < 100)
ggplot(data = hostlist2, aes(x = numofp)) + geom_bar(fill = "cadetblue3", width = 0.5)
ggplot(data = hostlist2, aes(x = numofp)) +
geom_bar(fill = "cadetblue3", width = 0.5) +
labs(title = "各ip的端口数", x = "端口数", y = "数量")
ggplot(data = hostlist2, aes(x = numofp)) +
geom_bar(fill = "cadetblue3", width = 0.5) +
labs(title = "各ip的端口数", x = "端口数", y =  "数量")+
theme(plot.title = element_text(hjust = 0))
ggplot(data = hostlist2, aes(x = numofp)) +
geom_bar(fill = "cadetblue3", width = 0.5) +
labs(title = "各ip的端口数", x = "端口数", y =  "数量")+
theme(plot.title = element_text(hjust = 0.5))
ggplot(data = hostlist2, aes(x = numofp)) +
geom_bar(fill = "cadetblue3", width = 0.5) +
labs(title = "各ip的端口数", x = "端口数", y =  "对应数量")+
theme(plot.title = element_text(hjust = 0.5))
raw = read.csv("portlist.csv", stringsAsFactors = F)
levels(as.factor(raw$name))
services = levels(as.factor(raw$name))
View(services)
portlist = read.csv("portlist.csv", stringsAsFactors = F)
library(ggplot2)
services = levels(as.factor(portlist$name))
View(services)
##端口各state的占比
ggplot(data=portlist, mapping=aes(x="state",fill=state))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
##各种服务的占比（删除了数量不超过50的服务）
portlist2 = subset(portlist, freq[name] > 50)
ggplot(data = portlist2, aes(x = name)) + geom_bar(fill = "cadetblue3", width = 0.5)
freq = table(portlist$name)
##各种服务的占比（删除了数量不超过50的服务）
portlist2 = subset(portlist, freq[name] > 50)
ggplot(data = portlist2, aes(x = name)) + geom_bar(fill = "cadetblue3", width = 0.5)
ggplot(data = portlist2, aes(x = name, fill = name)) + geom_bar(width = 0.5)
?grepl
grepl("123", "12345")
##相同类服务的不同版本的数量对比
#http
httplist = subset(portlist, grep("http", name))
##相同类服务的不同版本的数量对比
#http
httplist = subset(portlist, grepl("http", name))
View(httplist)
##相同类服务的不同版本的数量对比
#http
httplist = subset(portlist, grepl("http", name))
ggplot(data=httplist, mapping=aes(x="state",fill=state))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data=httplist, mapping=aes(fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data=httplist, mapping=aes(x = name, fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data=httplist, mapping=aes(x = "name", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
##相同类服务的不同版本的数量对比
#http & https
httpall = subset(portlist, grepl("http", name))
httpslist = subset(portlist, grepl("https", name))
ggplot(data=httpall, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data=https, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data=httpslist, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
grepl("http!s", "https")
grepl("http!s", "http")
grepl("http!s", "http!s")
grepl("http?!s", "http")
grepl("http?!s", "httpa")
grepl("http^[s]", "httpa")
grepl("http[^s]", "httpa")
grepl("http[^s]", "https")
httplist = subset(portlist, grepl("http[^s]", name))
httplist = subset(portlist, grepl("http", name) && !grepl("https", name))
httplist = subset(portlist, grepl("http", name) & !grepl("https", name))
ggplot(data=httplist, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
View(services)
nrow(httpslist)
nrow(httplist)
#ftp
ftplist = subset(portlist, grepl("ftp", name))
ggplot(data=ftplist, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
##相同类服务的不同版本的数量对比
#http & https
httpall = subset(portlist, grepl("http", name))
httpslist = subset(portlist, grepl("https", name))
httplist = subset(portlist, grepl("http", name) & !grepl("https", name))
nrow(httpslist)
nrow(httplist)
ggplot(data=httpall, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)
ggplot(data=httpall, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "http类端口数量", x = "", y = "")
ggplot(data=httpall, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "http类端口数量", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ggplot(data=httpall, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "http类端口数量（含https）", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ggplot(data=httpslist, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)+
labs(title = "https类端口数量", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ggplot(data=httplist, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)+
labs(title = "http类端口数量（不含https）", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ggplot(data=httpall, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "http类端口数量（含https）", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ftplist = subset(portlist, grepl("ftp", name))
ggplot(data=ftplist, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)+
labs(title = "ftp类端口数量（不含ftp）", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ggplot(data=httpall, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "http类端口数量（含https）", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ggplot(data=httpslist, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)+
labs(title = "https类端口数量", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
View(services)
##特殊端口
View(hostlist2)
##host
hostlist = read.csv("hostlist.csv", stringsAsFactors = F)
##各ip的端口数（排除了超过100的端口）
hostlist2 = subset(hostlist, numofp < 100)
##特殊端口
View(hostlist2)
##特殊端口
hostlist3 = subset(hostlist2, numofp == 2)
View(hostlist3)
library(ggplot2)
portlist = read.csv("portlist.csv", stringsAsFactors = F)
services = levels(as.factor(portlist$name))
View(services)
library(xlsx2)
library(xlsx)
sshdata = read.xlsx2("piechart.xlsx", header = T)
sshdata = read.xlsx2("piechart.xlsx", header = T, sheetIndex = 1)
sshdata = read.xlsx2("piechart.xlsx", sheetIndex = 1)
?read.xlsx2
sshdata = read.xlsx2("piechart.xlsx", sheetIndex = 1, startRow = 1)
library(xlsx)
sshdata = read.xlsx2("piechart.xlsx", sheetIndex = 1)
sshdata = read.xlsx2("piechart.xlsx", sheetIndex = 1, stringAsFactors = F)
sshdata = read.xlsx2("piechart.xlsx", sheetIndex = 1)
sshdata$name = as.character(sshdata$name)
sshdata$number = as.numeric(as.vector(sshdata$number))
sshdata$name = as.character(sshdata$name)
sshdata$number = as.numeric(as.vector(sshdata$number))
ggplot(data=sshdata, mapping=aes(x = "Service", fill=number))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "http类端口数量（含https）", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
library(ggplot2)
ggplot(data=sshdata, mapping=aes(x = "Service", fill=number))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "http类端口数量（含https）", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ssh = data.frame()
?data.frame
?matrix
?table
ssh = data.frame()
for(i in nrow(sshdata))
{
for(j in c(1: sshdata[i, 2]))
{
ssh = cbind(ssh, c(sshdata[i, 1], sshdata[i, 2]))
}
}
ssh = data.frame(row.names = c("name", "number"))
for(i in nrow(sshdata))
{
for(j in c(1: sshdata[i, 2]))
{
ssh = cbind(ssh, c(sshdata[i, 1], sshdata[i, 2]))
}
}
View(ssh)
ssh = data.frame(row.names = c("name", "number"))
for(i in nrow(sshdata))
{
for(j in c(1: sshdata[i, 2]))
{
ssh = rbind(ssh, c(sshdata[i, 1], sshdata[i, 2]))
}
}
View(ssh)
ssh = data.frame(row.names = c("name", "number"))
for(i in c(1:nrow(sshdata)))
{
for(j in c(1: sshdata[i, 2]))
{
ssh = rbind(ssh, c(sshdata[i, 1], sshdata[i, 2]))
}
}
View(ssh)
warnings()
for(i in c(1:nrow(sshdata)))
{
for(j in c(1: sshdata[i, 2]))
{
ssh = rbind(ssh, c(sshdata[i, 1], sshdata[i, 2]))
}
}
View(ssh)
sshdata[2,1]
for(i in c(1:nrow(sshdata)))
{
for(j in c(1: sshdata[i, 2]))
{
ssh = rbind(ssh, c(sshdata[i, 1], sshdata[i, 2]))
}
}
View(ssh)
?rbind
for(i in c(1:nrow(sshdata)))
{
for(j in c(1: sshdata[i, 2]))
{
ssh = rbind(ssh, c(sshdata[i, 1], sshdata[i, 2]))
}
}
View(ssh)
View(sshdata)
matrix(c("123", "123"))
ssh = matrix(ncol = 2)
matrix(c("123", 123))
ssh = matrix(ncol = 2)
for(i in c(1:nrow(sshdata)))
{
ssh = rbind(ssh, matrix(c(sshdata[i, 1], sshdata[i, 2]), nrow = sshdata[i, 2], ncol = 2, byrow = T))
}
View(ssh)
ggplot(data=sshdata, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "http类端口数量（含https）", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ggplot(data=ssh, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "http类端口数量（含https）", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ssh = as.data.frame(matrix)
ssh = as.data.frame(ssh)
ssh = data.frame(ssh)
View(ssh)
ssh = matrix(ncol = 2)
for(i in c(1:nrow(sshdata)))
{
ssh = rbind(ssh, matrix(c(sshdata[i, 1], sshdata[i, 2]), nrow = sshdata[i, 2], ncol = 2, byrow = T))
}
View(ssh)
ssh = ssh[-1, ]
View(ssh)
ssh = data.frame(ssh)
View(ssh)
colnames(ssh) = c("name", "number")
View(ssh)
ggplot(data=ssh, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "http类端口数量（含https）", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ggplot(data=ssh, mapping=aes(fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "ssh服务版本统计", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ggplot(data=ssh, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "ssh服务版本统计", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
integer(1/3)
1/3
ssh = matrix(ncol = 2)
for(i in c(1:nrow(sshdata)))
{
ssh = rbind(ssh, matrix(c(sshdata[i, 1], sshdata[i, 2]), nrow = sshdata[i, 2]/360*178, ncol = 2, byrow = T))
}
View(ssh)
ssh = ssh[-1, ]
ssh = data.frame(ssh)
colnames(ssh) = c("name", "number")
ggplot(data=ssh, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "ssh服务版本统计", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
ggplot(data=ssh, mapping=aes(x = "ssh Version", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0) +
labs(title = "ssh服务版本统计", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
portlist = read.csv("portlist.csv", stringsAsFactors = F)
library(ggplot2)
#ftp
ftplist = subset(portlist, grepl("ftp", name))
ggplot(data=ftplist, mapping=aes(x = "Service", fill=name))+
geom_bar(stat="count",width=0.5,position='stack')+
coord_polar("y", start=0)+
labs(title = "ftp类端口数量", x = "", y = "")+
theme(plot.title = element_text(hjust = 0.5))
